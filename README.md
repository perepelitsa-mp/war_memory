# –ö–Ω–∏–≥–∞ –ü–∞–º—è—Ç–∏ –ö–∞–≤–∞–ª–µ—Ä–æ–≤–æ

> –°–æ—Ü–∏–∞–ª—å–Ω—ã–π –ø—Ä–æ–µ–∫—Ç –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –ø–∞–º—è—Ç–∏ –æ –ø–æ–≥–∏–±—à–∏—Ö –≤ –°–í–û 

[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
[![Node.js](https://img.shields.io/badge/Node.js-18+-green.svg)](https://nodejs.org/)
[![PostgreSQL](https://img.shields.io/badge/PostgreSQL-15-blue.svg)](https://www.postgresql.org/)
[![Next.js](https://img.shields.io/badge/Next.js-14-black.svg)](https://nextjs.org/)

## –û–ø–∏—Å–∞–Ω–∏–µ

**"–ö–Ω–∏–≥–∞ –ü–∞–º—è—Ç–∏ –ö–∞–≤–∞–ª–µ—Ä–æ–≤–æ"** ‚Äî –æ—Ç–∫—Ä—ã—Ç–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –ø–∞–º—è—Ç–∏ –æ –ø–æ–≥–∏–±—à–∏—Ö –≤ –°–ø–µ—Ü–∏–∞–ª—å–Ω–æ–π –≤–æ–µ–Ω–Ω–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏, –≥–¥–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Å–æ–∑–¥–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ —Ä–æ–¥—Å—Ç–≤–µ–Ω–Ω–∏–∫–∞–º–∏, –∞ –æ—Å—Ç–∞–ª—å–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç –¥–æ–±–∞–≤–ª—è—Ç—å –º–∞—Ç–µ—Ä–∏–∞–ª—ã –ø–∞–º—è—Ç–∏ –∏ —Å–æ–±—ã—Ç–∏—è –∂–∏–∑–Ω–∏ —á–µ—Ä–µ–∑ –ø–æ—Å—Ç–º–æ–¥–µ—Ä–∞—Ü–∏—é –≤–ª–∞–¥–µ–ª—å—Ü–∞ –∫–∞—Ä—Ç–æ—á–∫–∏.

### –ö–ª—é—á–µ–≤—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã

- ‚úÖ **Soft delete** ‚Äî –≤—Å–µ –¥–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –Ω–∞–≤—Å–µ–≥–¥–∞
- ‚úÖ **–ü—Ä–µ–º–æ–¥–µ—Ä–∞—Ü–∏—è** —Å–æ–∑–¥–∞–Ω–∏—è –∫–∞—Ä—Ç–æ—á–µ–∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞–º–∏
- ‚úÖ **–ü–æ—Å—Ç–º–æ–¥–µ—Ä–∞—Ü–∏—è** –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤ –≤–ª–∞–¥–µ–ª—å—Ü–∞–º–∏ –∫–∞—Ä—Ç–æ—á–µ–∫
- ‚úÖ **–ü–æ–ª–Ω—ã–π –∞—É–¥–∏—Ç** –≤—Å–µ—Ö –¥–µ–π—Å—Ç–≤–∏–π
- ‚úÖ **–Æ—Ä–∏—Å–¥–∏–∫—Ü–∏—è –†–§** ‚Äî –≤—Å–µ –¥–∞–Ω–Ω—ã–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –Ω–∞ —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏–∏ –†–æ—Å—Å–∏–∏
- ‚úÖ **–≠—Ç–∏—á–Ω—ã–π –¥–∏–∑–∞–π–Ω** –≤ —Å—Ç–∏–ª–µ –≥–µ–æ—Ä–≥–∏–µ–≤—Å–∫–æ–π –ª–µ–Ω—Ç—ã
- ‚úÖ **–†–æ–¥—Å—Ç–≤–µ–Ω–Ω–∏–∫–∏ —Å–æ–∑–¥–∞—é—Ç –∫–∞—Ä—Ç–æ—á–∫–∏** ‚Äî —Ç–æ–ª—å–∫–æ –ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏

---

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

### Frontend
- **Next.js 14** (App Router, React Server Components)
- **Tailwind CSS** + **shadcn/ui**
- **Supabase Client** –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å API

### Backend
- **Supabase** (self-hosted): PostgreSQL + PostgREST + GoTrue + Storage
- **MinIO** ‚Äî S3-—Å–æ–≤–º–µ—Å—Ç–∏–º–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –¥–ª—è –º–µ–¥–∏–∞
- **Telegram Bot** (Telegraf.js) –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

### Infrastructure
- **Docker Compose** ‚Äî –µ–¥–∏–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è dev –∏ prod
- **GitHub Actions** ‚Äî CI/CD
- **Nginx** ‚Äî reverse proxy (production)

---

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- **Docker** –∏ **Docker Compose**
- **Node.js** 18+ –∏ **npm/yarn**
- **Git**

### 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

```bash
git clone https://github.com/yourusername/war_memory.git
cd war_memory
```

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è

```bash
# –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–∏–º–µ—Ä env —Ñ–∞–π–ª–∞
cp .env.example .env.development

# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å .env.development –∏ –∑–∞–ø–æ–ª–Ω–∏—Ç—å –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
```

### 3. –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ Docker Compose

**–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è –Ω–∞—á–∞–ª–∞):**

```bash
# –ó–∞–ø—É—Å–∫ PostgreSQL, PostgREST –∏ MinIO
docker-compose --env-file .env.development up postgres supabase-rest minio
```

**–ü–æ–ª–Ω—ã–π –∑–∞–ø—É—Å–∫ (–≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã):**

```bash
docker-compose --env-file .env.development --profile full up
```

üìñ **[–ü–æ–¥—Ä–æ–±–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –∏ —Ä–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º ‚Üí](QUICKSTART.md)**

### 4. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫ frontend (–±—É–¥–µ—Ç –≤ —Å–ª–µ–¥—É—é—â–µ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏)

```bash
cd frontend
npm install
npm run dev
```

–û—Ç–∫—Ä–æ–π—Ç–µ [http://localhost:3000](http://localhost:3000) –≤ –±—Ä–∞—É–∑–µ—Ä–µ.

---

## –°–µ—Ä–≤–∏—Å—ã –∏ –ø–æ—Ä—Ç—ã (development)

| –°–µ—Ä–≤–∏—Å | URL | –û–ø–∏—Å–∞–Ω–∏–µ |
|--------|-----|----------|
| **Frontend** | http://localhost:3000 | Next.js –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ |
| **PostgREST API** | http://localhost:3001 | REST API –¥–ª—è –ë–î |
| **Supabase Studio** | http://localhost:3010 | UI –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ë–î |
| **GoTrue Auth** | http://localhost:9999 | –°–µ—Ä–≤–∏—Å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ |
| **MinIO Console** | http://localhost:9001 | –ö–æ–Ω—Å–æ–ª—å MinIO |
| **PostgreSQL** | localhost:5432 | –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö |

**Credentials –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é:**
- PostgreSQL: `postgres` / `postgres`
- MinIO: `minioadmin` / `minioadmin`

---

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
war_memory/
‚îú‚îÄ‚îÄ docs/                   # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ ARCHITECTURE.md     # –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
‚îÇ   ‚îú‚îÄ‚îÄ DATABASE.md         # –°—Ö–µ–º–∞ –ë–î
‚îÇ   ‚îú‚îÄ‚îÄ API.md              # API —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ DEPLOYMENT.md       # –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –¥–µ–ø–ª–æ—é
‚îú‚îÄ‚îÄ frontend/               # Next.js –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
‚îú‚îÄ‚îÄ supabase/               # Supabase –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ migrations/         # SQL –º–∏–≥—Ä–∞—Ü–∏–∏
‚îÇ   ‚îî‚îÄ‚îÄ seed.sql            # –ù–∞—á–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
‚îú‚îÄ‚îÄ telegram-bot/           # Telegram –±–æ—Ç
‚îú‚îÄ‚îÄ docker/                 # Docker –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
‚îÇ   ‚îú‚îÄ‚îÄ nginx/              # Nginx config
‚îÇ   ‚îî‚îÄ‚îÄ minio/              # MinIO config
‚îú‚îÄ‚îÄ scripts/                # –£—Ç–∏–ª–∏—Ç—ã (–±—ç–∫–∞–ø—ã –∏ —Ç.–¥.)
‚îú‚îÄ‚îÄ docker-compose.yml      # Docker Compose –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ .env.development        # Dev –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
‚îî‚îÄ‚îÄ .env.production         # Prod –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
```

---

## –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –ú–∏–≥—Ä–∞—Ü–∏–∏ –ë–î

–í—Å–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ `supabase/migrations/` –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ PostgreSQL.

### –°–æ–∑–¥–∞–Ω–∏–µ –±—ç–∫–∞–ø–∞

```bash
./scripts/backup.sh
```

### –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–∑ –±—ç–∫–∞–ø–∞

```bash
./scripts/restore.sh backups/db_20250119_120000.sql
```

---

## –î–µ–ø–ª–æ–π –Ω–∞ production

–ü–æ–¥—Ä–æ–±–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ —Å–º. –≤ [DEPLOYMENT.md](docs/DEPLOYMENT.md).

```bash
# –ù–∞ VPS —Å–µ—Ä–≤–µ—Ä–µ
cd /opt/war_memory
git pull origin main

# –ó–∞–ø—É—Å–∫ —Å production –æ–∫—Ä—É–∂–µ–Ω–∏–µ–º
docker-compose --env-file .env.production --profile prod up -d
```

---

## –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- **[–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç –∏ —Ä–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º](QUICKSTART.md)** ‚≠ê
- [–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞](ARCHITECTURE.md)
- [–°—Ö–µ–º–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö](docs/DATABASE.md)
- [API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](docs/API.md)
- [–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –¥–µ–ø–ª–æ—é](docs/DEPLOYMENT.md)
- [Roadmap —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏](docs/ROADMAP.md)

---

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

–ï—Å–ª–∏ –≤—ã –æ–±–Ω–∞—Ä—É–∂–∏–ª–∏ —É—è–∑–≤–∏–º–æ—Å—Ç—å –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞, **–ù–ï —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ –ø—É–±–ª–∏—á–Ω—ã–π issue**. –û—Ç–ø—Ä–∞–≤—å—Ç–µ email –Ω–∞: [security@yourdomain.ru](mailto:security@yourdomain.ru)

---

## –õ–∏—Ü–µ–Ω–∑–∏—è

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç—Å—è –ø–æ–¥ –ª–∏—Ü–µ–Ω–∑–∏–µ–π [MIT License](LICENSE).

---

## –ö–æ–Ω—Ç–∞–∫—Ç—ã

- **Email**: [admin@yourdomain.ru](mailto:admin@yourdomain.ru)
- **Telegram**: [@yourtelegramusername](https://t.me/yourtelegramusername)

---

## –ë–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç–∏

–ü—Ä–æ–µ–∫—Ç —Å–æ–∑–¥–∞–Ω –≤ –ø–∞–º—è—Ç—å –æ –≥–µ—Ä–æ—è—Ö, –æ—Ç–¥–∞–≤—à–∏—Ö –∂–∏–∑–Ω—å –∑–∞ –†–æ–¥–∏–Ω—É.

**–í–µ—á–Ω–∞—è –ø–∞–º—è—Ç—å –ø–∞–≤—à–∏–º.**

---

*–†–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–æ —Å –ø–æ–º–æ—â—å—é AI –∞–≥–µ–Ω—Ç–æ–≤ –∏ –æ—Ç–∫—Ä—ã—Ç—ã—Ö —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π.*
